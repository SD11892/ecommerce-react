_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{"7Cbv":function(e,t,n){"use strict";var r,o=new Uint8Array(16);function a(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}var c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(e){return"string"===typeof e&&c.test(e)},i=[],u=0;u<256;++u)i.push((u+256).toString(16).substr(1));var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n};t.a=function(e,t,n){var r=(e=e||{}).random||(e.rng||a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return l(r)}},"HaE+":function(e,t,n){"use strict";function r(e,t,n,r,o,a,c){try{var s=e[a](c),i=s.value}catch(u){return void n(u)}s.done?t(i):Promise.resolve(i).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var c=e.apply(t,n);function s(e){r(c,o,a,s,i,"next",e)}function i(e){r(c,o,a,s,i,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return o}))},QCli:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return n("fdRS")}])},eWwy:function(e,t,n){!function(e,t){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function o(e,t){if(null==e)return{};var n,o,a=r(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)n=c[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function a(e,t){return c(e)||s(e,t)||i()}function c(e){if(Array.isArray(e))return e}function s(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var c,s=e[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(i){o=!0,a=i}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(e,t){return e(t={exports:{}},t.exports),t.exports}t=t&&t.hasOwnProperty("default")?t.default:t;var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function p(){}function f(){}f.resetWarningCache=p;var d=function(){function e(e,t,n,r,o,a){if(a!==l){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:f,resetWarningCache:p};return n.PropTypes=n,n},m=u((function(e){e.exports=d()})),b=function(e){return null!==e&&"object"===n(e)},y=function(e){return b(e)&&"function"===typeof e.then},h=function(e){return b(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},j="[object Object]",v=function e(t,n){if(!b(t)||!b(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var o=Object.prototype.toString.call(t)===j;if(o!==(Object.prototype.toString.call(n)===j))return!1;if(!o&&!r)return!1;var a=Object.keys(t),c=Object.keys(n);if(a.length!==c.length)return!1;for(var s={},i=0;i<a.length;i+=1)s[a[i]]=!0;for(var u=0;u<c.length;u+=1)s[c[u]]=!0;var l=Object.keys(s);if(l.length!==a.length)return!1;var p=t,f=n,d=function(t){return e(p[t],f[t])};return l.every(d)},x=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},O="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",g=function(e){if(null===e||h(e))return e;throw new Error(O)},w=function(e){if(y(e))return{tag:"async",stripePromise:Promise.resolve(e).then(g)};var t=g(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},E=t.createContext(null);E.displayName="ElementsContext";var C=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},S=function(e){var n=e.stripe,r=e.options,o=e.children,c=t.useRef(!1),s=t.useRef(!0),i=t.useMemo((function(){return w(n)}),[n]),u=a(t.useState((function(){return{stripe:null,elements:null}})),2),l=u[0],p=u[1],f=x(n),d=x(r);return null!==f&&(f!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it."),v(r,d)||console.warn("Unsupported prop change on Elements: You cannot change the `options` prop after setting the `stripe` prop.")),c.current||("sync"===i.tag&&(c.current=!0,p({stripe:i.stripe,elements:i.stripe.elements(r)})),"async"===i.tag&&(c.current=!0,i.stripePromise.then((function(e){e&&s.current&&p({stripe:e,elements:e.elements(r)})})))),t.useEffect((function(){return function(){s.current=!1}}),[]),t.useEffect((function(){var e=l.stripe;e&&e._registerWrapper&&e._registerWrapper({name:"react-stripe-js",version:"1.1.2"})}),[l.stripe]),t.createElement(E.Provider,{value:l},o)};S.propTypes={stripe:m.any,options:m.object};var N=function(e){var n=t.useContext(E);return C(n,e)},_=function(){return N("calls useElements()").elements},P=function(){return N("calls useStripe()").stripe},k=function(e){return(0,e.children)(N("mounts <ElementsConsumer>"))};k.propTypes={children:m.func.isRequired};var R=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),function(){n.current&&n.current.apply(n,arguments)}},T=function(e){return b(e)?(e.paymentRequest,o(e,["paymentRequest"])):{}},I=function(){},A=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},q=function(e,n){var r="".concat(A(e),"Element"),o=n?function(e){N("mounts <".concat(r,">"));var n=e.id,o=e.className;return t.createElement("div",{id:n,className:o})}:function(n){var o=n.id,a=n.className,c=n.options,s=void 0===c?{}:c,i=n.onBlur,u=void 0===i?I:i,l=n.onFocus,p=void 0===l?I:l,f=n.onReady,d=void 0===f?I:f,m=n.onChange,b=void 0===m?I:m,y=n.onEscape,h=void 0===y?I:y,j=n.onClick,x=void 0===j?I:j,O=N("mounts <".concat(r,">")).elements,g=t.useRef(null),w=t.useRef(null),E=R(d),C=R(u),S=R(p),_=R(x),P=R(b),k=R(h);t.useLayoutEffect((function(){if(null==g.current&&O&&null!=w.current){var t=O.create(e,s);g.current=t,t.mount(w.current),t.on("ready",(function(){return E(t)})),t.on("change",P),t.on("blur",C),t.on("focus",S),t.on("escape",k),t.on("click",_)}}));var A=t.useRef(s);return t.useEffect((function(){A.current&&A.current.paymentRequest!==s.paymentRequest&&console.warn("Unsupported prop change: options.paymentRequest is not a customizable property.");var e=T(s);0===Object.keys(e).length||v(e,T(A.current))||g.current&&(g.current.update(e),A.current=s)}),[s]),t.useEffect((function(){return function(){g.current&&g.current.destroy()}}),[]),t.createElement("div",{id:o,className:a,ref:w})};return o.propTypes={id:m.string,className:m.string,onChange:m.func,onBlur:m.func,onFocus:m.func,onReady:m.func,onClick:m.func,options:m.object},o.displayName=r,o.__elementType=e,o},B="undefined"===typeof window,F=q("auBankAccount",B),U=q("card",B),W=q("cardNumber",B),D=q("cardExpiry",B),L=q("cardCvc",B),V=q("fpxBank",B),Y=q("iban",B),M=q("idealBank",B),H=q("paymentRequestButton",B);e.AuBankAccountElement=F,e.CardCvcElement=L,e.CardElement=U,e.CardExpiryElement=D,e.CardNumberElement=W,e.Elements=S,e.ElementsConsumer=k,e.FpxBankElement=V,e.IbanElement=Y,e.IdealBankElement=M,e.PaymentRequestButtonElement=H,e.useElements=_,e.useStripe=P,Object.defineProperty(e,"__esModule",{value:!0})}(t,n("q1tI"))},fL5F:function(e,t,n){"use strict";t.a="$"},fdRS:function(e,t,n){"use strict";n.r(t);var r=n("o0o1"),o=n.n(r),a=n("HaE+"),c=n("rePB"),s=n("nKUr"),i=n("q1tI"),u=n("VnCb"),l=n("fL5F"),p=n("ma3e"),f=n("YFqc"),d=n.n(f),m=n("xY5u"),b=n("7Cbv"),y=n("eWwy"),h="https://js.stripe.com/v3",j=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,v="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",x=null,O=function(e){return null!==x?x:x=new Promise((function(t,n){if("undefined"!==typeof window)if(window.Stripe&&e&&console.warn(v),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(h,'"]')),t=0;t<e.length;t++){var n=e[t];if(j.test(n.src))return n}return null}();r&&e?console.warn(v):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(h).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(o){return void n(o)}else t(null)}))},g=function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.11.0",startTime:t})}(r,n),r},w=Promise.resolve().then((function(){return O(null)})),E=!1;w.catch((function(e){E||console.warn(e)}));function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];E=!0;var r=Date.now();return w.then((function(e){return g(e,t,r)}))}("pk_test_DvXwcKnVaaZUpWJIbh9cjgZr00IjIAjZAA");var _=function(e){var t=e.onChange,n=e.value,r=e.name,o=e.placeholder;return Object(s.jsx)("input",{onChange:t,value:n,className:"mt-2 text-sm shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:o,name:r})},P=function(e){var t,n,r=e.context,u=Object(i.useState)(null),f=u[0],h=u[1],j=Object(i.useState)(!1),v=j[0],x=j[1],O=Object(i.useState)({name:"",email:"",street:"",city:"",postal_code:"",state:""}),g=O[0],w=O[1],E=Object(y.useStripe)(),C=Object(y.useElements)(),N=function(e){h(null),w(S(S({},g),{},Object(c.a)({},e.target.name,e.target.value)))},P=function(){var e=Object(a.a)(o.a.mark((function e(t){var n,a,c,s,i,u,l,p,f,d,m,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=g.name,a=g.email,c=g.street,s=g.city,i=g.postal_code,u=g.state,l=r.total,p=r.clearCart,E&&C){e.next=5;break}return e.abrupt("return");case 5:if(c&&s&&i&&u){e.next=8;break}return h("Please fill in the form!"),e.abrupt("return");case 8:return f=C.getElement(y.CardElement),e.next=11,E.createPaymentMethod({type:"card",card:f,billing_details:{name:n}});case 11:if(d=e.sent,m=d.error,j=d.paymentMethod,!m){e.next=17;break}return h(m.message),e.abrupt("return");case 17:({email:a,amount:l,address:u,payment_method_id:j.id,receipt_email:"customer@example.com",id:Object(b.a)()}),x(!0),p();case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=r.numberOfItemsInCart,R=r.cart,T=r.total,I=k===Number(0);return v?Object(s.jsx)("div",{children:Object(s.jsx)("h3",{children:"Thanks! Your order has been successfully processed."})}):Object(s.jsx)("div",{className:"flex flex-col items-center pb-10",children:Object(s.jsxs)("div",{className:" flex flex-col w-full c_large:w-c_large ",children:[Object(s.jsxs)("div",{className:"pt-10 pb-8",children:[Object(s.jsx)("h1",{className:"text-5xl font-light mb-6",children:"Checkout"}),Object(s.jsx)(d.a,{href:"/cart",children:Object(s.jsx)("a",{children:Object(s.jsxs)("div",{className:"cursor-pointer flex  items-center",children:[Object(s.jsx)(p.b,{className:"mr-2 text-gray-600"}),Object(s.jsx)("p",{className:"text-gray-600 text-sm",children:"Edit Cart"})]})})})]}),I?Object(s.jsx)("h3",{children:"No items in cart."}):Object(s.jsxs)("div",{className:"flex flex-col",children:[Object(s.jsx)("div",{className:"",children:R.map((function(e,t){return Object(s.jsx)("div",{className:"border-b py-10",children:Object(s.jsxs)("div",{className:"flex items-center",children:[Object(s.jsx)(m.a,{className:"w-32 m-0",src:e.image,alt:e.name}),Object(s.jsx)("p",{className:"m-0 pl-10 text-gray-600",children:e.name}),Object(s.jsx)("div",{className:"flex flex-1 justify-end",children:Object(s.jsx)("p",{className:"m-0 pl-10 text-gray-900 font-semibold",children:l.a+e.price})})]})},t)}))}),Object(s.jsxs)("div",{className:"flex flex-1 flex-col md:flex-row",children:[Object(s.jsx)("div",{className:"flex flex-1 pt-8 flex-col",children:Object(s.jsx)("div",{className:"mt-4 border-t pt-10",children:Object(s.jsxs)("form",{onSubmit:P,children:[f?Object(s.jsx)("span",{children:f}):"",Object(s.jsx)(_,{onChange:N,value:g.name,name:"name",placeholder:"Cardholder name"}),Object(s.jsx)(y.CardElement,{className:"mt-2 shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"}),Object(s.jsx)(_,{onChange:N,value:g.email,name:"email",placeholder:"Email"}),Object(s.jsx)(_,{onChange:N,value:g.street,name:"street",placeholder:"Street"}),Object(s.jsx)(_,{onChange:N,value:g.city,name:"city",placeholder:"City"}),Object(s.jsx)(_,{onChange:N,value:g.state,name:"state",placeholder:"State"}),Object(s.jsx)(_,{onChange:N,value:g.postal_code,name:"postal_code",placeholder:"Postal Code"}),Object(s.jsx)("button",(t={type:"submit",disabled:!E,onClick:P,className:"hidden md:block bg-primary hover:bg-black text-white font-bold py-2 px-4 mt-4 rounded focus:outline-none focus:shadow-outline"},Object(c.a)(t,"type","button"),Object(c.a)(t,"children","Confirm order"),t))]})})}),Object(s.jsxs)("div",{className:"md:pt-20",children:[Object(s.jsxs)("div",{className:"pl-4 flex flex-1 pt-2 md:pt-8 mt-2 sm:mt-0",children:[Object(s.jsx)("p",{className:"text-sm pr-10 text-left",children:"Subtotal"}),Object(s.jsx)("p",{className:"w-38 flex text-right justify-end",children:l.a+T})]}),Object(s.jsxs)("div",{className:"pl-4 flex flex-1 my-2",children:[Object(s.jsx)("p",{className:"text-sm pr-10",children:"Shipping"}),Object(s.jsx)("p",{className:"w-38 flex justify-end",children:"FREE SHIPPING"})]}),Object(s.jsxs)("div",{className:"md:ml-4 pl-2 flex flex-1 bg-gray-200 pr-4 pb-1 pt-2 mt-2",children:[Object(s.jsx)("p",{className:"text-sm pr-10",children:"Total"}),Object(s.jsx)("p",{className:"font-semibold w-38 flex justify-end",children:l.a+(T+0)})]}),Object(s.jsx)("button",(n={type:"submit",disabled:!E,onClick:P,className:"md:hidden bg-primary hover:bg-black text-white font-bold py-2 px-4 mt-4 rounded focus:outline-none focus:shadow-outline"},Object(c.a)(n,"type","button"),Object(c.a)(n,"children","Confirm order"),n))]})]})]})]})})};t.default=function(e){return Object(s.jsx)(u.a,{children:Object(s.jsx)(u.b.Consumer,{children:function(t){return Object(s.jsx)(y.Elements,{stripe:N,children:Object(s.jsx)(P,S(S({},e),{},{context:t}))})}})})}}},[["QCli",0,2,3,1,4,5]]]);